<div class="toolbar" role="banner">
    <a mat-button routerLink="/" class="back">
        <mat-icon>arrow_back</mat-icon>
    </a>

    <a routerLink="/">
        Configuration
    </a>
</div>
<div class="content">
    <!-- <form class="example-form"> -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Général</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <mat-slide-toggle [(ngModel)]="userSettings.showEllaspsedTime">
                Afficher le temps écoulé
            </mat-slide-toggle>
        </mat-card-content>
    </mat-card>

    <mat-card>
        <mat-card-header>
            <mat-card-title>Temps de travail</mat-card-title>
        </mat-card-header>

        <mat-card-content>

            <div *ngFor="let c of weekDayConstraints">
                <mat-label class="weekDayLabel">{{c.weekDay | weekDayLabel}}</mat-label>
                <mat-form-field appearance="fill" class="hours">
                    <mat-select [(value)]="c.hours">
                        <mat-option *ngFor="let hour of hours" [value]="hour.value">
                            {{hour.label}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                :
                <mat-form-field appearance="fill" class="hours">
                    <mat-select [(value)]="c.minutes">
                        <mat-option *ngFor="let minute of minutes" [value]="minute.value">
                            {{minute.label}}
                        </mat-option>
                    </mat-select>


                </mat-form-field>
            </div>
        </mat-card-content>
    </mat-card>

    <mat-card>
        <mat-card-header>
            <mat-card-title>Exceptions</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <mat-list>
                <mat-list-item *ngFor="let constraint of constraints">
                    <div *ngIf="constraint.type === contraintType.day">
                        <mat-icon mat-list-icon>date_range</mat-icon>
                        <div mat-line>le {{asDayConstraint(constraint).date | date}}
                            {{constraint.numberOfMinutes | minutesToHours}} </div>
                    </div>
                    <div *ngIf="constraint.type === contraintType.period">
                        <mat-icon mat-list-icon> calendar_today</mat-icon>
                        <div mat-line>du {{asPeriodConstraint(constraint).startDate| date}} au
                            {{asPeriodConstraint(constraint).endDate | date}}
                            {{constraint.numberOfMinutes | minutesToHours}} </div>
                    </div>

                    <button mat-button
                        [routerLink]="routingService.settingsExceptionsEditRoute(constraint.id)">MODFIER</button>
                </mat-list-item>
            </mat-list>
        </mat-card-content>

        <mat-card-actions>
            <button mat-button [routerLink]="routingService.newSettingsExceptionsRoute()">AJOUTER</button>
            <button mat-button [routerLink]="routingService.settingsExceptionsRoute()">VOIR TOUT</button>
        </mat-card-actions>
    </mat-card>



    <!-- </form> -->


</div>